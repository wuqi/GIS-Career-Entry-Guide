============
三维数据模型
============

:Date: 2024-09-18T08:59:27Z

三维数据模型
============

前置知识：计算机图形学

请注意，需要计算机图形学的知识，而且至少要完整学完Games101的课在看这个，不然三维数据里的纹理材质那块可能完全看不懂，至于GLTF等标准里的动画和蒙皮的部分，得深入了解一下三维动画才行，我建议是要么认真学一下Blender或者c4d，了解建模到动画整个流程，或者找个MMD教程照着学一下，快速了解即可，GIS里用到这块很少的，但是如果是做仿真，或者跨行，多了解点也不是坏事，毕竟，大学还是有些时间足够挥霍的。

三维数据有很多种，GIS中一般是有几种：

-  BIM模型其实GIS里用的不多，最常用的是管道，建筑结构方面用的，毕竟其实GIS分析还是偏宏观，而BIM对GIS来说太细了，更偏向建筑专业了，隔行如隔山。GIS里的BIM可能是指LOD3,甚至只有LOD2的细节，不是一个东西。软件一般是Revit。
-  倾斜摄影模型：一般来说是osgb模型，smart3d之类的软件弄的，一般有很多层级，方便观看，类似有金字塔的GeoTiff。
-  点云数据：一般要用pdal处理，渲染点云，去噪，提取，抽稀都是技术，说白了就是一大堆点，可以看看B站上影视飓风介绍点云和倾斜摄影那两期，现在用无人机拍出来然后点云和倾斜摄影出来的已经可以比较精细的建模了。
-  单体模型：普通的三角面模型。

现在三维大范围场景最常用的一般是osgb数据或者3dtiles数据。一种是老版本的本地数据，一种是Cesium出品的适配网络的三维数据。

小场景的就有很多种了，3ds，GLTF，obj等等，但是其实都类似。

模型
----

先介绍一下小场景的模型，大场景模型基本都是小场景拼起来的，这里只介绍两种，其他的都大差不差：

-  GLTF可以参见((20240918092132-2w3sppb 'GLTF Overview'))
-  OBJ数据： 参考((20240918145249-hr63a88 '一文看懂 3D 模型 obj 文件'))

三角面与四边面
--------------

GIS中用到的大部分都是三角面模型，很多算法都是基于三角面的算法，不过你如果学建模或者看mmd之类的，做布料解算等，会碰到四边面、多边面的模型，有啥区别呢：

-  四边面应对变形会更好，基本上动画，游戏建模的时候才会考虑四边面
-  三角面渲染快，GIS里大部分时候都是三角面，暂时可以不考虑其他的。

场景
----

场景模型一般就是3DTiles或者OSG模型，然后就是各家自己的模型，基本也是参考这两种来实现的：

-  3dtiles，\ `3dtiles标准 <https://docs.ogc.org/cs/22-025r4/22-025r4.html>`__\ 我建议直接硬啃，也没有多少东西。了解一下没有坏处。实在不想啃的，可以去看\ `3d-tiles-reference-card <https://github.com/CesiumGS/3d-tiles/blob/main/3d-tiles-reference-card.pdf>`__
-  OSG数据：参考 ((20240918145658-os7nm9m 'Osg-osg、osgb、osgt
   文件'))，osg其实大部分时候用作场景文件，单文件的比较少，不过解析起来基本是一样的。

‍
